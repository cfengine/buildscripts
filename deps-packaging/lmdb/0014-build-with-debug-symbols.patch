From c9d2c642b275314ef72374e5a37702d1b4aaa3c3 Mon Sep 17 00:00:00 2001
From: Craig Comstock <craig@unreasonablefarm.org>
Date: Wed, 23 Nov 2022 14:15:17 -0600
Subject: [PATCH 14/15] build with debug symbols

---
 libraries/liblmdb/configure.ac | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/libraries/liblmdb/configure.ac b/libraries/liblmdb/configure.ac
index 2a5834b..108e6e0 100644
--- a/libraries/liblmdb/configure.ac
+++ b/libraries/liblmdb/configure.ac
@@ -10,6 +10,8 @@ m4_ifdef([LT_INIT],
   [AC_DISABLE_STATIC
    AC_PROG_LIBTOOL])
 
+# force debug build with symbols
+CFLAGS="$CFLAGS -g3 -O0 $ENV_CFLAGS"
 AC_ARG_WITH([pthread], [Path to pthread])
 AS_IF([test -n "$with_pthread"],
     [LDFLAGS+=" -L$with_pthread/lib"]
-- 
2.38.1

